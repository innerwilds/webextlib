import {ICoreStorageData, Validator} from '../types';
import {UpdateType} from '../const';
import { isObject } from 'underscore';
import { isArray } from 'underscore';

/*
type ICoreStorageData<T> = {
	items: T[];
	updateType: UpdateType;
	updateCounter: number;
	updateIds: number[];
};
*/

const coreStorageDataValidator: Validator<ICoreStorageData<any>> = {
	validate(value: ICoreStorageData<any>): value is ICoreStorageData<any> {
		return isObject(value) && 
			   isArray(value.items) &&
			   Object.values(UpdateType).includes(value.updateType) &&
			   isArray(value.updateIds);

	},
};

export default coreStorageDataValidator;
